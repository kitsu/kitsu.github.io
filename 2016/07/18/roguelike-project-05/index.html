<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="Hugo 0.15" />
    <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Superfluous Comments" />
    <link href="/index.xml" rel="feed" type="application/rss+xml" title="Superfluous Comments" />
    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    <script src="https://apis.google.com/js/platform.js" async defer>{lang: 'ja'}</script>
    
    <link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <title>Roguelike Project - Tile Selection | Superfluous Comments</title>
    <meta name="Description" content="Automatically selecting graphic tile variation based on neighborhood.
">
  </head>
  <body>
    <div id="wrap">
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77704589-1', 'auto');
ga('send', 'pageview');
</script>

      <header class="site-header">
        <div class="site-header-left">
          <a class="site-header-title" href="http://kitsu.github.io/">Superfluous Comments</a>
        </div>
      </header>
      <div class="container">
        <div id="main">

<div class="article">
  <header>
    <div class="article-header">
      <h1>Roguelike Project - Tile Selection</h1>
      <div class="article-meta">
        <span class="posttime">2016/07/18</span>
        
<div class="tags">
  <ul>
    
    <li>
      <a href="/tags/csharp"><span></span>CSharp</a>
    </li>
    
    <li>
      <a href="/tags/monogame"><span></span>MonoGame</a>
    </li>
    
    <li>
      <a href="/tags/roguelike"><span></span>Roguelike</a>
    </li>
    
    <li>
      <a href="/tags/code"><span></span>code</a>
    </li>
    
  </ul>
</div>


      </div>
    </div>
  </header>
      
      <div class="adsense">
        <span class="sponsor-label">Sponsored link</span>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3013534986949508"
     data-ad-slot="2442045076"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
      </div>
      
  <div class="content">
    <p>Automatically selecting graphic tile variation based on neighborhood.</p>

<p><hr/><br/>
Well it took longer than I expected, but I now have automatic tile selection
working. That means the controller can pass the view a map of generic tiles -
this cell is a wall of this material, this is a floor of that material - and the
view can decide which specific sprite goes where - this is a top left corner,
that is a single vertical top.</p>

<p>There are a few basic algorithms needed to get this working, but the biggest
hurdle was the shear number of conditions that needed to be classified. If I had
started with the code rather than the graphics I could have made things more
regular and thus easier on myself. Since the code was motivated by the graphics
though I went with brute-force encoding.</p>

<p>Here is the problem statement: Given a random tile in a map determine how it
relates to adjacent tiles and pick an appropriate sprite. For my map I have 3.5
classes of connecting tiles: Walls, Floors, Pits, and UI. Each class has a
different selection of connecting sprites for different configurations. For
example walls have no field, only edge connections, while floors have a field,
but don't have outside corners. Here is my current
<a href="https://github.com/kitsu/PCGTest/blob/ef2aba9ca04385f4fe68bcdb3ebc6db2ea88f96a/PCGTest/Content/map.png">map sprite-sheet</a>,
and here is the enumeration I'm using for my relations:</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">enum</span> <span style="color: #f8f8f2">TileType</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">Border,</span>
    <span style="color: #f8f8f2">Single,</span>
    <span style="color: #f8f8f2">SingleTop,</span>
    <span style="color: #f8f8f2">SingleBottom,</span>
    <span style="color: #f8f8f2">SingleLeft,</span>
    <span style="color: #f8f8f2">SingleRight,</span>
    <span style="color: #f8f8f2">TeeTop,</span>
    <span style="color: #f8f8f2">TeeBottom,</span>
    <span style="color: #f8f8f2">TeeLeft,</span>
    <span style="color: #f8f8f2">TeeRight,</span>
    <span style="color: #f8f8f2">Horizontal,</span>
    <span style="color: #f8f8f2">Vertical,</span>
    <span style="color: #f8f8f2">Cross,</span>
    <span style="color: #f8f8f2">TopLeft,</span>
    <span style="color: #f8f8f2">TopRight,</span>
    <span style="color: #f8f8f2">BottomLeft,</span>
    <span style="color: #f8f8f2">BottomRight,</span>
    <span style="color: #f8f8f2">OutTopLeft,</span>
    <span style="color: #f8f8f2">OutTopRight,</span>
    <span style="color: #f8f8f2">OutBottomLeft,</span>
    <span style="color: #f8f8f2">OutBottomRight,</span>
<span style="color: #f8f8f2">}</span>
</pre></div>


<p>Border is a special value, but the others should be self explanatory.</p>

<p>I am choosing variations based on which of a tile's eight neighbors is of the
same type as it. I came up with a way to encode that information into a single
integer value. First I somewhat arbitrarily unwrapped the cells in the order
<code>[TopLeft, TopMiddle, TopRight, MiddleLeft, MiddleRight, BottomLeft, BottomMiddle, BottomRight]</code>.
I then assigned each cell a value of 1 if it was of the same type as the center
or 0 otherwise (e.g. <code>[0,1,1,0,1,0,0,0]</code>). By adding and using left bitshift
<code>&lt;&lt;</code> I merged the values into an 8-bit integer with <code>TopLeft</code> as the high bit:
<code>01101000</code> = <code>104</code>:</p>


<figure >
    
        <img src="/images/neighborhood.png" alt="Neighborhood" />
    
    
</figure>


<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">static</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;[]</span> <span style="color: #f8f8f2">offsets</span> <span style="color: #f8f8f2">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">[]</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
    <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Tuple&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">&gt;(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">};</span>

<span style="color: #66d9ef">static</span> <span style="color: #66d9ef">int</span> <span style="color: #a6e22e">CalculateNeighborhood</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">x,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">y,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">[,]</span> <span style="color: #f8f8f2">map)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">var</span> <span style="color: #f8f8f2">tile</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">map[x,</span> <span style="color: #f8f8f2">y];</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">bits</span> <span style="color: #f8f8f2">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
    <span style="color: #66d9ef">foreach</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">var</span> <span style="color: #f8f8f2">pair</span> <span style="color: #66d9ef">in</span> <span style="color: #f8f8f2">offsets)</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #f8f8f2">bits</span> <span style="color: #f8f8f2">&lt;&lt;=</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(map[x</span> <span style="color: #f8f8f2">+</span> <span style="color: #f8f8f2">pair.Item1,</span> <span style="color: #f8f8f2">y</span> <span style="color: #f8f8f2">+</span> <span style="color: #f8f8f2">pair.Item2]</span> <span style="color: #f8f8f2">==</span> <span style="color: #f8f8f2">tile)</span>
            <span style="color: #f8f8f2">bits</span> <span style="color: #f8f8f2">+=</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">bits;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>


<p>From there the combinatorial problem becomes obvious: eight bits represent 256
possible combinations of like/unlike tiles. Encoding a tiles neighborhood is
cheap, but how do you determine which configuration that pattern matches? In the
end I didn't come up with any clever solution, I just generated all 256
combinations and visually classified each one. Here is part of the Tiled map I
used:</p>

<p>
<figure >
    
        <img src="/images/TileTypes.png" alt="Tile Type Enumeration" />
    
    
</figure>
</p>

<p>I stored the result as a mapping from <code>TileType =&gt; int[]</code> where the type matches
when the array contains the pattern under test.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">static</span> <span style="color: #f8f8f2">Dictionary&lt;TileType,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">[]&gt;</span> <span style="color: #f8f8f2">Patterns</span> <span style="color: #f8f8f2">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Dictionary&lt;TileType,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">[]&gt;()</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #f8f8f2">{</span> <span style="color: #f8f8f2">TileType.Border,</span>
        <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #f8f8f2">-</span><span style="color: #ae81ff">1</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.Single,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">5</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">32</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">33</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">36</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">37</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">128</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">129</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">132</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">133</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">160</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">161</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">164</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">165</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.SingleTop,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">3</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">6</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">7</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">34</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">35</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">38</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">39</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">130</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">131</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">134</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">135</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">162</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">163</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">166</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">167</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.SingleBottom,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">64</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">65</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">68</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">69</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">96</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">97</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">100</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">101</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">192</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">193</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">196</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">197</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">224</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">225</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">228</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">229</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.SingleLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">8</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">9</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">12</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">13</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">40</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">41</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">44</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">45</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">136</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">137</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">140</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">141</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">168</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">169</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">172</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">173</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.SingleRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">16</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">17</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">20</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">21</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">48</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">49</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">52</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">53</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">144</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">145</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">148</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">149</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">176</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">177</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">180</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">181</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TeeTop,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">26</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">27</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">30</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">31</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">58</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">59</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">62</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">63</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">154</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">155</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">158</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">159</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">186</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">187</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">190</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">191</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TeeBottom,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">88</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">89</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">92</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">93</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">120</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">121</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">124</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">125</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">216</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">217</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">220</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">221</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">248</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">249</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">252</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">253</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TeeLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">74</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">75</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">78</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">79</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">106</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">107</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">110</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">111</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">202</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">203</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">206</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">207</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">234</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">235</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">238</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">239</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">242</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">243</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TeeRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">82</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">83</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">86</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">87</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">114</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">115</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">118</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">119</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">210</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">211</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">214</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">215</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">246</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">247</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.Horizontal,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">24</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">25</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">28</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">29</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">56</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">57</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">60</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">61</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">152</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">153</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">156</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">157</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">184</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">185</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">188</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">189</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">230</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">231</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.Vertical,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">66</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">67</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">70</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">71</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">98</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">99</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">102</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">103</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">194</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">195</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">198</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">199</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">226</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">227</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.Cross,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">90</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">91</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">94</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">95</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">122</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">123</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">126</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">218</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">219</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">222</span><span style="color: #f8f8f2">,</span>
                    <span style="color: #ae81ff">250</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">255</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TopLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">11</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">15</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">43</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">47</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">139</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">143</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">171</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">175</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.TopRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">22</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">23</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">24</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">54</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">55</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">150</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">151</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">182</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">183</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.BottomLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">104</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">105</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">108</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">109</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">232</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">233</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">236</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">237</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.BottomRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">208</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">209</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">212</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">213</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">240</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">241</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">244</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">245</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.OutTopLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">10</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">14</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">42</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">46</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">138</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">142</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">170</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">174</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">251</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.OutTopRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">18</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">19</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">50</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">51</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">146</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">147</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">178</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">179</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">254</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.OutBottomLeft,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">72</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">73</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">76</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">77</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">200</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">201</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">204</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">205</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">127</span> <span style="color: #f8f8f2">}},</span>
    <span style="color: #f8f8f2">{TileType.OutBottomRight,</span>
            <span style="color: #66d9ef">new</span><span style="color: #f8f8f2">[]</span> <span style="color: #f8f8f2">{</span> <span style="color: #ae81ff">80</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">81</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">84</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">85</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">112</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">113</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">116</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">117</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">223</span> <span style="color: #f8f8f2">}},</span>
<span style="color: #f8f8f2">};</span>
</pre></div>
</p>

<p>I noticed a pattern where types came in pairs. I think if I had picked my bit
order more carefully I could have used a <code>Trie</code> to map each bit pattern to a
<code>TileType</code> for faster lookup. This works for now though.</p>

<p>One problem with this approach of resolving the graphics at the latest possible
point is that I lose context information. My view's map ends at the edge of the
viewport, but the simulation map doesn't, so how can I pick the right tiles on
the edges of the map? That is what <code>TileType.Border</code> is for: cheating. Instead
of showing the wrong tile and having it change when I get additional map
information, I just hide the edge tiles and skip their calculation. I like the
<em>letterbox</em> look it gives, and I intend to use most of that area for UI elements
anyway. In the case you didn't want the black border you could instead just load
one tile worth of data all around that isn't shown, though that is sort of the
same solution.</p>

<p>
<figure >
    
        <img src="/images/AutoTiled.JPG" alt="Screenshot" />
    
    
</figure>
</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">static</span> <span style="color: #66d9ef">bool</span> <span style="color: #a6e22e">IsBorder</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">x,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">y,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">[,]</span> <span style="color: #f8f8f2">map)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">width</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">map.GetLength(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">);</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">height</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">map.GetLength(</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">);</span>
    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">x</span> <span style="color: #f8f8f2">==</span> <span style="color: #ae81ff">0</span> <span style="color: #f8f8f2">||</span> <span style="color: #f8f8f2">y</span> <span style="color: #f8f8f2">==</span> <span style="color: #ae81ff">0</span> <span style="color: #f8f8f2">||</span> <span style="color: #f8f8f2">x</span> <span style="color: #f8f8f2">==</span> <span style="color: #f8f8f2">width</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span> <span style="color: #f8f8f2">||</span> <span style="color: #f8f8f2">y</span> <span style="color: #f8f8f2">==</span> <span style="color: #f8f8f2">height</span> <span style="color: #f8f8f2">-</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">static</span> <span style="color: #f8f8f2">TileType</span> <span style="color: #a6e22e">SolveTile</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">x,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">y,</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">[,]</span> <span style="color: #f8f8f2">map)</span>
<span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(IsBorder(x,</span> <span style="color: #f8f8f2">y,</span> <span style="color: #f8f8f2">map))</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">TileType.Border;</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">else</span>
    <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">var</span> <span style="color: #f8f8f2">hood</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">(CalculateNeighborhood(x,</span> <span style="color: #f8f8f2">y,</span> <span style="color: #f8f8f2">map));</span>
        <span style="color: #66d9ef">foreach</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">var</span> <span style="color: #f8f8f2">pair</span> <span style="color: #66d9ef">in</span> <span style="color: #f8f8f2">Patterns)</span>
        <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(pair.Value.Contains(hood))</span>
                <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">pair.Key;</span>
        <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">TileType.Border;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<p>In the limited manual testing I've done the results look good. The code is in
<a href="https://github.com/kitsu/PCGTest/tree/8e6cf6583bd0315ce4b9d2702da771fe608b16f9">commit 8e6cf658</a>,
along with a bunch of other code. I should have commited earlier, but so many
things were half broken waiting for other parts to catch up, it all ended up
being one big transformation.</p>

<p>Next up I'm at the stage of the project where there is enough structure to start
adding tests. I want to have testing sorted before starting the simulation
module since that part will benefit from being more test-driven. Luckily, unlike
my last project, any old test framework should just work out of the box.</p>

<p>GitHub commit <a href="https://github.com/kitsu/PCGTest/tree/3bb38a769db79eaa6a84438d408bb1b9c3817e38">3bb38a769</a>.</p>

  </div>
  <footer>
    <div class="article-footer">
      
<div class="tags">
  <ul>
    
    <li>
      <a href="/tags/csharp"><span></span>CSharp</a>
    </li>
    
    <li>
      <a href="/tags/monogame"><span></span>MonoGame</a>
    </li>
    
    <li>
      <a href="/tags/roguelike"><span></span>Roguelike</a>
    </li>
    
    <li>
      <a href="/tags/code"><span></span>code</a>
    </li>
    
  </ul>
</div>


      
      <div class="adsense">
        <span class="sponsor-label">Sponsored link</span>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3013534986949508"
     data-ad-slot="2442045076"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
      </div>
      
      
<div id="share-buttons">
  <ul>
    
    
    
    
    <li>
      <div class="g-plusone" data-size="medium"></div>
    </li>
    
    
  </ul>
</div>


      <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'SuperfComs';
    var disqus_identifier = 'http:\/\/kitsu.github.io\/2016\/07\/18\/roguelike-project-05\/';
    var disqus_title = 'Roguelike Project - Tile Selection';
    var disqus_url = 'http:\/\/kitsu.github.io\/2016\/07\/18\/roguelike-project-05\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      <div id="pagenavigation-next-prev">
        
        <div id="pagenavigation-next">
          <span class="pagenav-label">Previous</span>
          <a href="http://kitsu.github.io/2016/07/12/roguelike-project-04/">Roguelike Project - Reactivity</a>
        </div>
        
        
        <div id="pagenavigation-prev">
          <span class="pagenav-label">Next</span>
          <a href="http://kitsu.github.io/2016/07/22/roguelike-project-06/">Roguelike Project - Chunks</a>
        </div>
        
      </div>
      
    </div>
  </footer>
</div>
        </div>
        <div class="sidebar">
  
  <div class="sidebar-content">
    <div class="sidebar-header">
      <span>Author</span>
    </div>
    <div id="author">
      <span>Ed Blake</span>
      <div>
        
        
        <a href="https://plus.google.com/118323029386640613972"><i class="fa fa-google-plus-square fa-2x" aria-hidden="true"></i></a>
        
        
        <a href="https://github.com/kitsu"><i class="fa fa-github-square fa-2x" aria-hidden="true"></i></a>
        
        
        <a href="https://www.linkedin.com/in/edward-blake-b3601411b"><i class="fa fa-linkedin-square fa-2x" aria-hidden="true"></i></a>
        
        
        <a href="https://stackoverflow.com/users/770443"><i class="fa fa-stack-overflow fa-2x" aria-hidden="true"></i></a>
        
      </div>
    </div>
  </div>
  
  
  <div class="sidebar-content">
    <div class="sidebar-header">
      <span>Categories</span>
    </div>
    <div class="categories">
      <ul>
        
        <li>
          <a href="/categories/blog"><span></span>blog (3)</a>
        </li>
        
        <li>
          <a href="/categories/development"><span></span>development (34)</a>
        </li>
        
        <li>
          <a href="/categories/hacks"><span></span>hacks (4)</a>
        </li>
        
        <li>
          <a href="/categories/personal"><span></span>personal (3)</a>
        </li>
        
      </ul>
    </div>
  </div>
  
  <div class="sidebar-content">
    <div class="sidebar-header">
      <span>RSS</span>
    </div>
    <div id="rss">
      <a href="/index.xml" type="application/rss+xml" target="_blank">
        <i class="fa fa-rss-square fa-2x" aria-hidden="true"></i>
      </a>
    </div>
  </div>
  
  <div class="sidebar-content">
    <div class="sidebar-header">
      <span>Sponsored link</span>
    </div>
    <div class="adsense">
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-3013534986949508"
     data-ad-slot="9965311870"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
    </div>
  </div>
  
</div>

      </div>
      <footer>
        <div id="site-footer-wrap">
          <div id="site-footer">
            <span>Powered by <a href="https://gohugo.io/">Hugo</a>.</span>
            <span>
              
              Â© 2015 Ed Blake
              
           </span>
           <span id="copyleft">
              <a rel="license"
                 href="http://creativecommons.org/licenses/by-sa/4.0/">
                <img alt="Creative Commons License" style="border-width:0"
                     src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
              </a>
            </span>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>

